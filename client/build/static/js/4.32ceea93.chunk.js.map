{"version":3,"sources":["components/Upload.js","containers/CreateGameContainer.js"],"names":["UploadWrapper","styled","div","_templateObject","Upload","_ref","handleDrop","_useState","useState","file","_useState2","Object","_home_karliatto_proyectos_otros_ekoskola_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","state","setState","onDrop","useCallback","acceptedFiles","_useDropzone","useDropzone","getRootProps","getInputProps","isDragActive","react__WEBPACK_IMPORTED_MODULE_2___default","a","createElement","name","_material_ui_icons_Clear__WEBPACK_IMPORTED_MODULE_5___default","onClick","useStyles","makeStyles","theme","container","display","flexWrap","textField","marginLeft","width","Wrapper","section","FormTitle","_templateObject2","FormTexts","article","_templateObject3","TextAreaLabel","label","_templateObject4","CreateGameContainer","props","_home_karliatto_proyectos_otros_ekoskola_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","loading","setLoading","history","_useState3","description","objetive_1","objetive_2","objetive_3","location","grade","topics","classes","subjects","ekoskola_steps","timing","physical_activity","number_teachers","_useState4","form","setForm","_useState5","_useState6","setFile","styles","handleTextChange","event","target","value","assign","createGame","_home_karliatto_proyectos_otros_ekoskola_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_karliatto_proyectos_otros_ekoskola_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","formData","newGame","wrap","_context","prev","next","FormData","append","JSON","stringify","ApiService","upload","sent","push","concat","id","t0","console","error","message","stop","_x","apply","this","arguments","react__WEBPACK_IMPORTED_MODULE_4___default","_components_Loader__WEBPACK_IMPORTED_MODULE_10__","_components_Upload__WEBPACK_IMPORTED_MODULE_9__","for","_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_11__","required","className","margin","onChange","_material_ui_core_TextareaAutosize__WEBPACK_IMPORTED_MODULE_12__","style","height","_components_FiltersGame__WEBPACK_IMPORTED_MODULE_8__","isEdit","handleRadioButtonChange","length","handleCheckboxChange","item","includes","filter","selected","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_5__","variant","backgroundColor","color","marginRight"],"mappings":"iaAKA,IAAMA,EAAgBC,IAAOC,IAAVC,KA4DJC,IAjDf,SAAAC,GAAgC,IAAdC,EAAcD,EAAdC,WAAcC,EACJC,mBAAS,CACjCC,KAAM,OAFsBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,GACvBM,EADuBH,EAAA,GAChBI,EADgBJ,EAAA,GAWxBK,EAASC,sBACb,SAAAC,GACE,IAAMR,EAAOQ,EAAc,GAC3BH,EAAS,CACPL,SAEFH,EAAWG,IAEb,CAACH,IAnB2BY,EAsBwBC,YAAY,CAAEJ,WAA5DK,EAtBsBF,EAsBtBE,aAAcC,EAtBQH,EAsBRG,cAAeC,EAtBPJ,EAsBOI,aAErC,OAAIT,EAAMJ,KAENc,EAAAC,EAAAC,cAACzB,EAAD,KACEuB,EAAAC,EAAAC,cAAA,UACGZ,EAAMJ,KAAKiB,KADd,IACoBH,EAAAC,EAAAC,cAACE,EAAAH,EAAD,CAAWI,QAvBnB,WAChBd,EAAS,CACPL,KAAM,YA4BRc,EAAAC,EAAAC,cAACzB,EAAkBoB,IACjBG,EAAAC,EAAAC,cAAA,QAAWJ,KACVC,EACCC,EAAAC,EAAAC,cAAA,gDAEAF,EAAAC,EAAAC,cAAA,w3BC3CR,IAAMI,EAAYC,YAAW,SAAAC,GAAK,MAAK,CACrCC,UAAW,CACTC,QAAS,OACTC,SAAU,QAEZC,UAAW,CACTC,WAAY,QACZC,MAAO,YAILC,EAAUrC,IAAOsC,QAAVpC,KAMPqC,EAAYvC,IAAOC,IAAVuC,KAMTC,EAAYzC,IAAO0C,QAAVC,KAKTC,EAAgB5C,IAAO6C,MAAVC,KAoLJC,UA7Ka,SAAAC,GAAS,IAAA1C,EACLC,oBAAS,GADJE,EAAAC,OAAAuC,EAAA,EAAAvC,CAAAJ,EAAA,GAC5B4C,EAD4BzC,EAAA,GACnB0C,EADmB1C,EAAA,GAE3B2C,EAAYJ,EAAZI,QAF2BC,EAoBX9C,mBAjBN,CAChBkB,KAAM,GACN6B,YAAa,GACbC,WAAY,GACZC,WAAY,GACZC,WAAY,GACZC,SAAU,GACVC,MAAO,GACPC,OAAQ,GACRC,QAAS,GACTC,SAAU,GACVC,eAAgB,GAChBC,OAAQ,GACRC,kBAAmB,GACnBC,gBAAiB,KAjBgBC,EAAAzD,OAAAuC,EAAA,EAAAvC,CAAA2C,EAAA,GAoB5Be,EApB4BD,EAAA,GAoBtBE,EApBsBF,EAAA,GAAAG,EAsBX/D,mBAAS,CAC/BC,KAAM,OAvB2B+D,EAAA7D,OAAAuC,EAAA,EAAAvC,CAAA4D,EAAA,GAsB5B9D,EAtB4B+D,EAAA,GAsBtBC,EAtBsBD,EAAA,GA0B7BE,EAAS7C,IAET8C,EAAmB,SAAAC,GACvBP,EAAKO,EAAMC,OAAOnD,MAAQkD,EAAMC,OAAOC,MACvCR,EAAQ3D,OAAOoE,OAAO,GAAIV,KAwBtBW,EAAU,eAAA3E,EAAAM,OAAAsE,EAAA,EAAAtE,CAAAuE,EAAA1D,EAAA2D,KAAG,SAAAC,EAAMR,GAAN,IAAAS,EAAAC,EAAA,OAAAJ,EAAA1D,EAAA+D,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,GAEXJ,EAAW,IAAIM,UAEVC,OAAO,OAAQnF,EAAKA,KAAM,YACnC4E,EAASO,OAAO,OAAQC,KAAKC,UAAUzB,IAEvCjB,GAAW,GAPIoC,EAAAE,KAAA,EASOK,IAAWC,OAAOX,EAAU5E,EAAKA,MATxC,OAST6E,EATSE,EAAAS,KAUf5C,EAAQ6C,KAAR,UAAAC,OAAuBb,EAAQc,KAVhBZ,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAa,GAAAb,EAAA,SAafc,QAAQC,MAAR,sBAAAJ,OAAoCX,EAAAa,GAAMG,UAb3B,yBAAAhB,EAAAiB,SAAArB,EAAA,kBAAH,gBAAAsB,GAAA,OAAArG,EAAAsG,MAAAC,KAAAC,YAAA,GAgBRnF,EAA0D2C,EAA1D3C,KAAM6B,EAAoDc,EAApDd,YAAaC,EAAuCa,EAAvCb,WAAYC,EAA2BY,EAA3BZ,WAAYC,EAAeW,EAAfX,WAQnD,OACEoD,EAAAtF,EAAAC,cAACa,EAAD,KACGa,EACC2D,EAAAtF,EAAAC,cAACsF,EAAA,EAAD,MAEAD,EAAAtF,EAAAC,cAAA,eACEqF,EAAAtF,EAAAC,cAACe,EAAD,+BACAsE,EAAAtF,EAAAC,cAACuF,EAAA,EAAD,CAAQ1G,WAbG,SAAAG,GACjBgE,EAAQ,CACNhE,YAYIqG,EAAAtF,EAAAC,cAACiB,EAAD,KACEoE,EAAAtF,EAAAC,cAACoB,EAAD,CAAeoE,IAAI,QAAnB,qBACAH,EAAAtF,EAAAC,cAACyF,EAAA,EAAD,CACEC,UAAQ,EAERf,GAAG,OACH1E,KAAK,OACLoD,MAAOpD,EACP0F,UAAW1C,EAAOvC,UAClBkF,OAAO,SACPC,SAAU3C,IAEZmC,EAAAtF,EAAAC,cAACoB,EAAD,CAAeoE,IAAI,eAAnB,sBACAH,EAAAtF,EAAAC,cAAC8F,EAAA,EAAD,CACEJ,UAAQ,EACRf,GAAG,cACH1E,KAAK,cACLoB,MAAM,qBACNgC,MAAOvB,EACP6D,UAAW1C,EAAOvC,UAClBqF,MAAO,CAAEC,OAAQ,QACjBJ,OAAO,SACPC,SAAU3C,IAEZmC,EAAAtF,EAAAC,cAACoB,EAAD,CAAeoE,IAAI,cAAnB,YACAH,EAAAtF,EAAAC,cAAC8F,EAAA,EAAD,CACEJ,UAAQ,EACRf,GAAG,aACH1E,KAAK,aACLoB,MAAM,WACNgC,MAAOtB,EACP4D,UAAW1C,EAAOvC,UAClBqF,MAAO,CAAEC,OAAQ,QACjBJ,OAAO,SACPC,SAAU3C,IAEZmC,EAAAtF,EAAAC,cAACoB,EAAD,CAAeoE,IAAI,cAAnB,YACAH,EAAAtF,EAAAC,cAAC8F,EAAA,EAAD,CACEJ,UAAQ,EACRf,GAAG,aACH1E,KAAK,aACLoB,MAAM,WACNgC,MAAOrB,EACP2D,UAAW1C,EAAOvC,UAClBqF,MAAO,CAAEC,OAAQ,QACjBJ,OAAO,SACPC,SAAU3C,IAEZmC,EAAAtF,EAAAC,cAACoB,EAAD,CAAeoE,IAAI,cAAnB,YACAH,EAAAtF,EAAAC,cAAC8F,EAAA,EAAD,CACEJ,UAAQ,EACRf,GAAG,aACH1E,KAAK,aACLoB,MAAM,WACNgC,MAAOpB,EACP0D,UAAW1C,EAAOvC,UAClBqF,MAAO,CAAEC,OAAQ,QACjBJ,OAAO,SACPC,SAAU3C,KAGdmC,EAAAtF,EAAAC,cAACiG,EAAA,EAAD,CACEC,QAAQ,EACRtC,SAAUhB,EACVuD,wBArHsB,SAAAhD,GAC1BA,GAASA,EAAMC,QAAUD,EAAMC,OAAOnD,OACxC2C,EAAKO,EAAMC,OAAOnD,MAAMmG,OAAS,EACjCxD,EAAKO,EAAMC,OAAOnD,MAAMwE,KAAKtB,EAAMC,OAAOC,OAE1CR,EAAQ3D,OAAOoE,OAAO,GAAIV,MAiHpByD,qBA7GmB,SAAAC,GACT1D,EAAK0D,EAAKrG,MAAMsG,SAASD,EAAKjD,OAE9CT,EAAK0D,EAAKrG,MAAQ2C,EAAK0D,EAAKrG,MAAMuG,OAChC,SAAAC,GAAQ,OAAIA,IAAaH,EAAKjD,QAGhCT,EAAK0D,EAAKrG,MAAMwE,KAAK6B,EAAKjD,OAE5BR,EAAQ3D,OAAOoE,OAAO,GAAIV,OAuGpByC,EAAAtF,EAAAC,cAAC0G,EAAA,EAAD,CACEC,QAAQ,YACRZ,MAAO,CACLa,gBAAiB,UACjBC,MAAO,OACPrG,QAAS,QACTG,WAAY,OACZmG,YAAa,QAEf3G,QAASoD,GATX","file":"static/js/4.32ceea93.chunk.js","sourcesContent":["import React, { useCallback, useState } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport styled from 'styled-components';\nimport ClearIcon from '@material-ui/icons/Clear';\n\nconst UploadWrapper = styled.div`\n  position: relative;\n  width: 30rem;\n  margin-left: 13rem;\n  height: 5rem;\n  border-width: 2px;\n  border-color: rgb(102, 102, 102);\n  border-style: dashed;\n  border-radius: 5px;\n`;\n\nfunction Upload({ handleDrop }) {\n  const [state, setState] = useState({\n    file: null,\n  });\n\n  const clearFile = () => {\n    setState({\n      file: null,\n    });\n  };\n\n  const onDrop = useCallback(\n    acceptedFiles => {\n      const file = acceptedFiles[0];\n      setState({\n        file,\n      });\n      handleDrop(file);\n    },\n    [handleDrop]\n  );\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop });\n\n  if (state.file) {\n    return (\n      <UploadWrapper>\n        <h1>\n          {state.file.name} <ClearIcon onClick={clearFile} />\n        </h1>\n      </UploadWrapper>\n    );\n  }\n\n  return (\n    <UploadWrapper {...getRootProps()}>\n      <input {...getInputProps()} />\n      {isDragActive ? (\n        <p>Přetáhni soubor pdf sem ...</p>\n      ) : (\n        <p>\n          Přetáhni soubor pdf sem, nebo klikni a vyber soubor ze složky. Max.\n          velikost pdf je 2 Mb. Povolený formát pouze pdf.\n        </p>\n      )}\n    </UploadWrapper>\n  );\n}\n\nexport default Upload;\n","import React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport styled from 'styled-components';\n\nimport ApiService from '../ApiService';\nimport FiltersGame from '../components/FiltersGame';\nimport Upload from '../components/Upload';\nimport Loader from '../components/Loader';\n\nimport TextField from '@material-ui/core/TextField';\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  textField: {\n    marginLeft: '13rem',\n    width: '30rem',\n  },\n}));\n\nconst Wrapper = styled.section`\n  display: flex;\n  justify-content: center;\n  margin: 2rem 0rem 5rem 0rem;\n`;\n\nconst FormTitle = styled.div`\n  text-align: center;\n  font-size: 3rem;\n  color: #04a64b;\n`;\n\nconst FormTexts = styled.article`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst TextAreaLabel = styled.label`\n  margin-left: 13rem;\n  font-size: 1.375em;\n  font-weight: 700;\n  color: rgb(4, 166, 75);\n`;\n\nconst CreateGameContainer = props => {\n  const [loading, setLoading] = useState(false);\n  const { history } = props;\n  const formState = {\n    name: '',\n    description: '',\n    objetive_1: '',\n    objetive_2: '',\n    objetive_3: '',\n    location: [],\n    grade: [],\n    topics: [],\n    classes: [],\n    subjects: [],\n    ekoskola_steps: [],\n    timing: [],\n    physical_activity: [],\n    number_teachers: [],\n  };\n\n  const [form, setForm] = useState(formState);\n\n  const [file, setFile] = useState({\n    file: null,\n  });\n\n  const styles = useStyles();\n\n  const handleTextChange = event => {\n    form[event.target.name] = event.target.value;\n    setForm(Object.assign({}, form));\n  };\n\n  const handleRadioButtonChange = event => {\n    if (event && event.target && event.target.name) {\n      form[event.target.name].length = 0;\n      form[event.target.name].push(event.target.value);\n\n      setForm(Object.assign({}, form));\n    }\n  };\n\n  const handleCheckboxChange = item => {\n    const isChecked = form[item.name].includes(item.value) || false;\n    if (isChecked) {\n      form[item.name] = form[item.name].filter(\n        selected => selected !== item.value\n      );\n    } else {\n      form[item.name].push(item.value);\n    }\n    setForm(Object.assign({}, form));\n  };\n\n  const createGame = async event => {\n    try {\n      let formData = new FormData();\n\n      formData.append('file', file.file, 'test.pdf');\n      formData.append('game', JSON.stringify(form));\n\n      setLoading(true);\n\n      const newGame = await ApiService.upload(formData, file.file);\n      history.push(`/games/${newGame.id}`);\n    } catch (error) {\n      // TODO: handle erros\n      console.error(`there was an error ${error.message}`);\n    }\n  };\n  const { name, description, objetive_1, objetive_2, objetive_3 } = form;\n\n  const handleDrop = file => {\n    setFile({\n      file,\n    });\n  };\n\n  return (\n    <Wrapper>\n      {loading ? (\n        <Loader />\n      ) : (\n        <section>\n          <FormTitle>Vytvořit aktivitu</FormTitle>\n          <Upload handleDrop={handleDrop} />\n          <FormTexts>\n            <TextAreaLabel for=\"name\">Jméno aktivity</TextAreaLabel>\n            <TextField\n              required\n              // error\n              id=\"name\"\n              name=\"name\"\n              value={name}\n              className={styles.textField}\n              margin=\"normal\"\n              onChange={handleTextChange}\n            />\n            <TextAreaLabel for=\"description\">Krátký popis</TextAreaLabel>\n            <TextareaAutosize\n              required\n              id=\"description\"\n              name=\"description\"\n              label=\"Krátký popis\"\n              value={description}\n              className={styles.textField}\n              style={{ height: '5rem' }}\n              margin=\"normal\"\n              onChange={handleTextChange}\n            />\n            <TextAreaLabel for=\"objetive_1\">Cíl 1</TextAreaLabel>\n            <TextareaAutosize\n              required\n              id=\"objetive_1\"\n              name=\"objetive_1\"\n              label=\"Cíl 1\"\n              value={objetive_1}\n              className={styles.textField}\n              style={{ height: '5rem' }}\n              margin=\"normal\"\n              onChange={handleTextChange}\n            />\n            <TextAreaLabel for=\"objetive_2\">Cíl 2</TextAreaLabel>\n            <TextareaAutosize\n              required\n              id=\"objetive_2\"\n              name=\"objetive_2\"\n              label=\"Cíl 2\"\n              value={objetive_2}\n              className={styles.textField}\n              style={{ height: '5rem' }}\n              margin=\"normal\"\n              onChange={handleTextChange}\n            />\n            <TextAreaLabel for=\"objetive_3\">Cíl 3</TextAreaLabel>\n            <TextareaAutosize\n              required\n              id=\"objetive_3\"\n              name=\"objetive_3\"\n              label=\"Cíl 3\"\n              value={objetive_3}\n              className={styles.textField}\n              style={{ height: '5rem' }}\n              margin=\"normal\"\n              onChange={handleTextChange}\n            />\n          </FormTexts>\n          <FiltersGame\n            isEdit={true}\n            formData={form}\n            handleRadioButtonChange={handleRadioButtonChange}\n            handleCheckboxChange={handleCheckboxChange}\n          />\n\n          <Button\n            variant=\"contained\"\n            style={{\n              backgroundColor: '#04a64b',\n              color: '#fff',\n              display: 'block',\n              marginLeft: 'auto',\n              marginRight: 'auto',\n            }}\n            onClick={createGame}\n          >\n            Vytvořit\n          </Button>\n        </section>\n      )}\n    </Wrapper>\n  );\n};\n\nexport default CreateGameContainer;\n"],"sourceRoot":""}